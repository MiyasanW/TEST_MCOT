/* ==========================================================================
   GLOBAL FORM ELEMENTS (Modern & Beautiful)
   ========================================================================== */

/* 1. Standard Inputs & Textareas - MODERNIZED */
input:not([type='hidden']):not([type='checkbox']):not([type='radio']):not([type='file']):not([type='submit']):not([type='button']):not([type='image']),
textarea,
select,
.vTextField,
.vURLField,
.vIntegerField,
.vDateField,
.vTimeField {
    border: 1px solid #e2e8f0 !important;
    /* Slate 200 - Soft & Clean */
    background-color: #ffffff !important;
    /* Pure White */
    border-radius: 0.5rem !important;
    /* 8px - More modern rounded */
    padding: 0.6rem 0.85rem !important;
    /* Spacious padding */
    color: #0f172a !important;
    /* Slate 900 */
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.03) !important;
    /* Very subtle shadow */
    min-height: 44px !important;
    width: 100%;
    max-width: 100%;
    transition: all 0.2s ease-in-out !important;
    /* Smooth interactions */
}

/* Hover State - Subtle hint */
input:not([type='hidden']):not([type='checkbox']):not([type='radio']):not([type='file']):hover,
textarea:hover,
select:hover {
    border-color: #cbd5e1 !important;
    /* Slate 300 */
}

/* Focus State - Beautiful Glow */
input:not([type='hidden']):not([type='checkbox']):not([type='radio']):not([type='file']):focus,
textarea:focus,
select:focus {
    border-color: #3b82f6 !important;
    /* Blue 500 */
    background-color: #ffffff !important;
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15) !important;
    /* Soft, wide glow */
    outline: none !important;
    z-index: 10;
}

/* 2. Select Specifics (Dropdowns) */
select {
    appearance: auto !important;
    background-image: none !important;
    padding-right: 2rem !important;
}

/* 3. Date/Time Widget Specifics */
.vDateField,
.vTimeField {
    min-width: 120px;
    display: inline-block;
}

/* 4. Custom Instruction Box (Fix for Dark Mode Bug) */
.instruction-box {
    background-color: #eff6ff !important;
    /* Blue 50 */
    border: 1px solid #bfdbfe !important;
    /* Blue 200 */
    color: #1e3a8a !important;
    /* Blue 900 */
}

/* ==========================================================================
   DARK MODE OVERRIDES (High Contrast & Modern)
   ========================================================================== */
:is(.dark) input:not([type='hidden']):not([type='checkbox']):not([type='radio']):not([type='file']):not([type='submit']):not([type='button']),
:is(.dark) textarea,
:is(.dark) select,
:is(.dark) .vTextField,
:is(.dark) .vDateField,
:is(.dark) .vTimeField {
    background-color: #0f172a !important;
    /* Slate 900 - Deep dark */
    border-color: #334155 !important;
    /* Slate 700 - Visible but subtle */
    color: #f8fafc !important;
    /* Slate 50 - Bright text */
    box-shadow: none !important;
}

:is(.dark) input:hover,
:is(.dark) textarea:hover,
:is(.dark) select:hover {
    border-color: #475569 !important;
    /* Slate 600 - Lighten on hover */
}

:is(.dark) input:focus,
:is(.dark) textarea:focus,
:is(.dark) select:focus {
    border-color: #60a5fa !important;
    /* Blue 400 */
    background-color: #020617 !important;
    /* Slate 950 - Even darker focus */
    box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.2) !important;
    /* Blue Glow */
}

:is(.dark) .instruction-box {
    background-color: #172554 !important;
    /* Blue 950 */
    border-color: #1e3a8a !important;
    /* Blue 900 */
    color: #bfdbfe !important;
    /* Blue 200 */
}

/* READONLY FIELD HANDLING */
.readonly,
.field-created_by .readonly,
.field-updated_by .readonly {
    border: none !important;
    background-color: transparent !important;
    box-shadow: none !important;
    padding: 0 !important;
    min-height: auto !important;
    color: inherit !important;
    font-weight: 500;
}

/* CUSTOM TEMPLATE FIXES */
.custom-surface {
    background-color: #ffffff;
    color: #1e293b;
}

:is(.dark) .custom-surface {
    background-color: #1e293b !important;
    color: #f1f5f9 !important;
    border-color: #334155 !important;
}

:is(.dark) .custom-surface input,
:is(.dark) .custom-surface select,
background-color: #0f172a !important;
color: #ffffff !important;
}

/* ==========================================================================
   5. FIX FLOATING FOOTER (Final Production Style)
   ========================================================================== */
/* Force the submit row to be static and transparent */
.submit-row,
.bg-white.border-t,
/* Unfold generic footer classes */
.flex.flex-col-reverse.items-center.mx-auto.lg\:flex-row-reverse.container,
div[class*="flex-col-reverse"][class*="container"] {
    position: static !important;
    bottom: auto !important;
    background-color: transparent !important;
    border: none !important;
    border-top: 1px solid #e2e8f0 !important;
    margin-top: 3rem !important;
    padding: 1.5rem 0 !important;
    box-shadow: none !important;
}

:is(.dark) .submit-row,
:is(.dark) .bg-white.border-t,
:is(.dark) div[class*="flex-col-reverse"][class*="container"] {
    background-color: transparent !important;
    border-top-color: #334155 !important;
}

/* Kill all sticky positioning globally within admin content */
div[class*="sticky"],
div[class*="lg:sticky"],
div[class*="bottom-0"],
*[class*="sticky"],
*[class*="bottom-0"] {
    position: static !important;
}

/* Add padding to the main content */
#content-main {
    padding-bottom: 4rem !important;
}


/* ==========================================================================
   6. FIX SELECT2 (AUTOCOMPLETE) IN DARK MODE
   ========================================================================== */
/* Container Base */
.select2-container--default .select2-selection--single,
.select2-container--default .select2-selection--multiple {
    background-color: #ffffff !important;
    border: 1px solid #e2e8f0 !important;
    border-radius: 0.5rem !important;
    min-height: 44px !important;
    padding-top: 4px !important;
}

/* Dark Mode Container */
:is(.dark) .select2-container--default .select2-selection--single,
:is(.dark) .select2-container--default .select2-selection--multiple {
    background-color: #0f172a !important;
    /* Slate 900 */
    border-color: #334155 !important;
    /* Slate 700 */
    color: #f8fafc !important;
    /* Slate 50 */
}

/* Text Color within Select2 */
:is(.dark) .select2-container--default .select2-selection--single .select2-selection__rendered,
:is(.dark) .select2-container--default .select2-selection--multiple .select2-selection__choice {
    color: #f8fafc !important;
    background-color: #1e293b !important;
    /* Slate 800 for tags */
    border-color: #334155 !important;
}

/* Input typing color */
:is(.dark) .select2-search__field {
    color: #f8fafc !important;
}

/* Dropdown Menu Dark Mode */
:is(.dark) .select2-dropdown {
    background-color: #1e293b !important;
    /* Slate 800 */
    border-color: #334155 !important;
    color: #f8fafc !important;
}

:is(.dark) .select2-results__option--highlighted[aria-selected] {
    background-color: #3b82f6 !important;
    /* Blue 500 */
    color: white !important;
}

:is(.dark) .select2-results__option[aria-selected="true"] {
    background-color: #334155 !important;
    color: #f8fafc !important;
}

/* Remove default white backgrounds from Unfold's utility classes if they conflict */
:is(.dark) .bg-white {
    background-color: #0f172a !important;
    color: #f8fafc !important;
}